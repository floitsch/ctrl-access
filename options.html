<!doctype html>
<html>
<head>
<script>

var defaultShortcutKeys =
    "fjdkeisawoghurcmnvtbyqzxpFJDKESLAWGHURCMNVTBYQZXP23456789";

var saveIsEnabled = false;

function save() {
  if (!saveIsEnabled) return;
  var prefs = {}; // JSON.parse(localStorage.prefs);
  prefs.shortcut_keys = document.getElementById("shortcut_keys").value;
  prefs.only_one_char = document.getElementById("one_char").checked;
  localStorage.prefs = JSON.stringify(prefs);
}

// Make sure the checkbox checked state gets properly initialized from the
// saved preference.
window.onload = function() {
  saveIsEnabled = false;
  var prefs = JSON.parse(localStorage.prefs);
  document.getElementById("shortcut_keys").value =
      prefs.shortcut_keys || defaultShortcutKeys;
  document.getElementById("one_char").checked = prefs.only_one_char;
  saveIsEnabled = true;
}

function resetShortcutKeys() {
  document.getElementById('shortcut_keys').value = defaultShortcutKeys;
}

</script>
</head>
<body>
<h2>Options for the Ctrl-Access extension</h2>
Shortcut keys: <input id="shortcut_keys" type="text" size=80 onChange="save()">
<button onclick="resetShortcutKeys()">Reset to default</button><br/>
Only allow one character shortcuts:
    <input id="one_char" type="checkbox" onclick="save()">

</body>
</html>
